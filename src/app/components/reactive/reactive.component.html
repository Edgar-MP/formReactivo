<div class="container mt-4">
    <h4>Formularios <small>data</small></h4>
    <hr>
    <form autocomplete="off" [formGroup]="form" (ngSubmit)="guardar()">

        <div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Nombre</label>
                <div class="col-8">
                    <input class="form-control" type="text" placeholder="Nombre" formControlName="nombre"
                        [class.is-invalid]="nombreNoValido">
                    <small *ngIf="nombreNoValido" class="text-danger">
                        Ingrese su nombre
                    </small>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Apellido</label>
                <div class="col-8">
                    <input class="form-control" type="text" placeholder="Apellido" formControlName="apellido"
                        [class.is-invalid]="apellidoNoValido">
                    <small *ngIf="apellidoNoValido" class="text-danger">
                        Ingrese su apellido
                    </small>
                </div>
            </div>

        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Correo</label>
            <div class="col-md-8">
                <input class="form-control" type="email" placeholder="Correo electrónico" formControlName="correo"
                    [class.is-invalid]="correoNoValido">
                <small *ngIf="correoNoValido" class="text-danger">
                    Ingrese un correo electrónico valido
                </small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Usuario</label>
            <div class="col">

                <input class="form-control" type="text" placeholder="Nombre de Usuario" formControlName="usuario"
                    [class.is-invalid]="usuarioNoValido">
                <small *ngIf="usuarioNoValido" class="text-danger">
                    Ese nombre de usuario ya existe
                </small>

            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Contraseña</label>
            <div class="row col-md-8 p-0 m-0">
                <div class="col">
                    <input type="password" class="form-control" placeholder="Contraseña" formControlName="pass1"
                        [class.is-invalid]="pass1NoValida">
                    <small *ngIf="pass1NoValida" class="text-danger">
                        Ingrese una contraseña valida
                    </small>
                </div>
                <div class="col">
                    <input type="password" class="form-control" placeholder="Repetir Contraseña" formControlName="pass2"
                        [class.is-invalid]="pass2NoValida">
                    <small *ngIf="pass2NoValida" class="text-danger">
                        Las contraseñas deben coincidir
                    </small>
                </div>
            </div>
        </div>

        <div class="form-group row" formGroupName="direccion">
            <label class="col-2 col-form-label">Dirección</label>
            <div class="row col-md-8 p-0 m-0">
                <div class="col">
                    <input type="text" class="form-control" placeholder="Población" formControlName="poblacion"
                        [class.is-invalid]="poblacionNoValida">
                    <small *ngIf="poblacionNoValida" class="text-danger">
                        Ingrese una poblacion
                    </small>
                </div>
                <div class="col">
                    <input type="text" class="form-control" placeholder="Provincia" formControlName="provincia"
                        [class.is-invalid]="provinciaNoValida">
                    <small *ngIf="provinciaNoValida" class="text-danger">
                        Ingrese una provincia
                    </small>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <table class="table">
                    <thead class="thead-light">
                        <tr>
                            <th>ID</th>
                            <th>Pasatiempo</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="pasatiempos">
                        <tr *ngFor="let control of pasatiempos.controls; let i = index">
                            <td>{{ i + 1 }}</td>
                            <td>
                                <input type="text" class="form-control" [formControlName]="i">
                            </td>
                            <td>
                                <button class="btn btn-danger" style="cursor: pointer" (click)="borrarPasatiempo(i)">
                                    Borrar
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-primary mt-3 mb-3 btn-block" type="button" style="cursor: pointer"
                    (click)="agregarPasatiempo()">
                    + Agregar
                </button>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">&nbsp;</label>
            <div class="input-group col-8">
                <button type="submit" class="btn btn-outline-primary btn-block" style="cursor: pointer">
                    Guardar
                </button>
            </div>
        </div>

    </form>

    <pre>
        Estado del formulario {{ form.valid }} <br>
        Status: {{ form.status }}
    </pre>
    <pre>
        {{ form.value |json }}
    </pre>
</div>